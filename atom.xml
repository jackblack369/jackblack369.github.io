<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>source is the essence</title>
  
  
  <link href="https://www.willshirley.top/atom.xml" rel="self"/>
  
  <link href="https://www.willshirley.top/"/>
  <updated>2024-07-28T07:08:31.498Z</updated>
  <id>https://www.willshirley.top/</id>
  
  <author>
    <name>brook</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>GO learn</title>
    <link href="https://www.willshirley.top/2024/07/28/golang%20learn/"/>
    <id>https://www.willshirley.top/2024/07/28/golang%20learn/</id>
    <published>2024-07-28T07:08:28.000Z</published>
    <updated>2024-07-28T07:08:31.498Z</updated>
    
    <content type="html"><![CDATA[<h2 id="point"><a href="#point" class="headerlink" title="point"></a>point</h2><h3 id="sclice"><a href="#sclice" class="headerlink" title="sclice"></a>sclice</h3><ul><li>syntax <code>slice[low:high]</code></li><li>“take from 1 to the end” with <code>numbers[1:]</code>.</li></ul><h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><ul><li><code>go test -v</code></li><li><code>go test -cover</code></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;point&quot;&gt;&lt;a href=&quot;#point&quot; class=&quot;headerlink&quot; title=&quot;point&quot;&gt;&lt;/a&gt;point&lt;/h2&gt;&lt;h3 id=&quot;sclice&quot;&gt;&lt;a href=&quot;#sclice&quot; class=&quot;headerlink&quot; title=&quot;s</summary>
      
    
    
    
    <category term="GO" scheme="https://www.willshirley.top/categories/GO/"/>
    
    
    <category term="learn" scheme="https://www.willshirley.top/tags/learn/"/>
    
  </entry>
  
  <entry>
    <title>code thought</title>
    <link href="https://www.willshirley.top/2024/07/25/code%20thought/"/>
    <id>https://www.willshirley.top/2024/07/25/code%20thought/</id>
    <published>2024-07-25T07:12:13.000Z</published>
    <updated>2024-07-25T07:12:25.368Z</updated>
    
    <content type="html"><![CDATA[<h2 id="TDD"><a href="#TDD" class="headerlink" title="TDD"></a>TDD</h2><p>TDD, or Test-Driven Development, is a software development process that involves writing automated tests before writing the actual code. In other words, you write the test first, and then you implement the code to make the test pass.</p><p>Here’s how it typically works:</p><ol><li><p><strong>Write a test</strong>: You write an automated test that covers a specific piece of functionality or behavior in your system.</p></li><li><p><strong>Run the test and see it fail</strong>: Since you haven’t implemented the code yet, the test will naturally fail.</p></li><li><p><strong>Write the code</strong>: You then implement the code to make the test pass. This is where you write the actual logic, algorithms, or whatever is needed to satisfy the requirements of the test.</p></li><li><p><strong>Run the test and see it pass</strong>: Now that you’ve written the code, run the test again, and if everything is correct, the test should pass!</p></li><li><p><strong>Refactor the code (if needed)</strong>: If there are any issues with the code or if you can improve the design, you refactor the code to make it more maintainable, efficient, or easier to understand.</p></li></ol><p>The key benefits of TDD include:</p><ol><li><p><strong>Improved code quality</strong>: Writing tests before writing code ensures that your code is robust and meets the requirements.</p></li><li><p><strong>Reduced bugs</strong>: By testing each piece of functionality thoroughly, you can catch errors early on, reducing the overall number of bugs in your system.</p></li><li><p><strong>Faster development</strong>: TDD helps you focus on implementing only what’s necessary to pass the test, making your development process more efficient.</p></li><li><p><strong>Better design</strong>: The process of writing tests and then implementing code encourages good design principles, such as separation of concerns, modularity, and maintainability.</p></li></ol><p>TDD is often used in conjunction with other testing methodologies, like unit testing, integration testing, or acceptance testing, to ensure that your software system is thoroughly tested and reliable.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;TDD&quot;&gt;&lt;a href=&quot;#TDD&quot; class=&quot;headerlink&quot; title=&quot;TDD&quot;&gt;&lt;/a&gt;TDD&lt;/h2&gt;&lt;p&gt;TDD, or Test-Driven Development, is a software development process</summary>
      
    
    
    
    <category term="code" scheme="https://www.willshirley.top/categories/code/"/>
    
    
    <category term="thought" scheme="https://www.willshirley.top/tags/thought/"/>
    
  </entry>
  
  <entry>
    <title>curve</title>
    <link href="https://www.willshirley.top/2024/07/24/curve/"/>
    <id>https://www.willshirley.top/2024/07/24/curve/</id>
    <published>2024-07-24T02:11:19.241Z</published>
    <updated>2024-07-28T07:10:47.090Z</updated>
    
    <content type="html"><![CDATA[<p>TBD</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;TBD&lt;/p&gt;
</summary>
      
    
    
    
    <category term="curve" scheme="https://www.willshirley.top/categories/curve/"/>
    
    
    <category term="learn" scheme="https://www.willshirley.top/tags/learn/"/>
    
  </entry>
  
  <entry>
    <title>python profiler</title>
    <link href="https://www.willshirley.top/2024/07/01/python%20profiler/"/>
    <id>https://www.willshirley.top/2024/07/01/python%20profiler/</id>
    <published>2024-07-01T12:30:45.000Z</published>
    <updated>2024-07-01T12:30:56.654Z</updated>
    
    <content type="html"><![CDATA[<h1 id="py-spy"><a href="#py-spy" class="headerlink" title="py-spy"></a>py-spy</h1><h2 id="record"><a href="#record" class="headerlink" title="record"></a>record</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo py-spy record -o tableagent.svg --pid 37152</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;py-spy&quot;&gt;&lt;a href=&quot;#py-spy&quot; class=&quot;headerlink&quot; title=&quot;py-spy&quot;&gt;&lt;/a&gt;py-spy&lt;/h1&gt;&lt;h2 id=&quot;record&quot;&gt;&lt;a href=&quot;#record&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    <category term="python" scheme="https://www.willshirley.top/categories/python/"/>
    
    
    <category term="profiler" scheme="https://www.willshirley.top/tags/profiler/"/>
    
  </entry>
  
  <entry>
    <title>jwt points</title>
    <link href="https://www.willshirley.top/2024/06/27/jwt/"/>
    <id>https://www.willshirley.top/2024/06/27/jwt/</id>
    <published>2024-06-27T02:58:13.000Z</published>
    <updated>2024-07-21T04:18:53.510Z</updated>
    
    <content type="html"><![CDATA[<p>JWT 由三个部分组成，用 . 分隔：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJrZXkiOiJ1c2VyLWtleSIsImV4cCI6MTU2NDA1MDgxMX0.Us8zh_4VjJXF-TmR5f8cif8mBU7SuefPlpxhH0jbPVI</span><br></pre></td></tr></table></figure><p>​    1.    Header（头部）：eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</p><p>​    2.    Payload（负载）：eyJrZXkiOiJ1c2VyLWtleSIsImV4cCI6MTU2NDA1MDgxMX0</p><p>​    3.    Signature（签名）：Us8zh_4VjJXF-TmR5f8cif8mBU7SuefPlpxhH0jbPVI</p><ul><li><p><strong>可直接使用 Base64 解码 Header 和 Payload</strong></p></li><li><p><strong>signature验签</strong></p><p>使用 Header里面的算法验证签名需要用到与签名时相同的密钥（公钥）。以下是验证签名的示例代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hmac</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">verify_signature</span>(<span class="params">header, payload, secret, signature</span>):</span></span><br><span class="line">    message = <span class="string">f&quot;<span class="subst">&#123;header&#125;</span>.<span class="subst">&#123;payload&#125;</span>&quot;</span></span><br><span class="line">    expected_signature = hmac.new(secret.encode(), message.encode(), hashlib.sha256).digest()</span><br><span class="line">    expected_signature_base64 = base64.urlsafe_b64encode(expected_signature).rstrip(<span class="string">b&#x27;=&#x27;</span>).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> hmac.compare_digest(expected_signature_base64, signature)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例密钥（替换为实际的密钥）</span></span><br><span class="line">secret = <span class="string">&quot;your-256-bit-secret&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证签名</span></span><br><span class="line">is_valid = verify_signature(header, payload, secret, signature)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Signature is valid: <span class="subst">&#123;is_valid&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;JWT 由三个部分组成，用 . 分隔：&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;</summary>
      
    
    
    
    <category term="jwt" scheme="https://www.willshirley.top/categories/jwt/"/>
    
    
    <category term="learn" scheme="https://www.willshirley.top/tags/learn/"/>
    
  </entry>
  
  <entry>
    <title>time snippet</title>
    <link href="https://www.willshirley.top/2024/06/12/time/"/>
    <id>https://www.willshirley.top/2024/06/12/time/</id>
    <published>2024-06-12T08:24:54.000Z</published>
    <updated>2024-06-12T08:25:04.803Z</updated>
    
    <content type="html"><![CDATA[<ul><li>GMT（格林尼治标准时间）是格林尼治时间，没有夏令时调整。</li><li>UTC（协调世界时）是国际时间标准，通常与GMT相同，但在某些情况下，UTC可能会有闰秒的调整。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;GMT（格林尼治标准时间）是格林尼治时间，没有夏令时调整。&lt;/li&gt;
&lt;li&gt;UTC（协调世界时）是国际时间标准，通常与GMT相同，但在某些情况下，UTC可能会有闰秒的调整。&lt;/li&gt;
&lt;/ul&gt;
</summary>
      
    
    
    
    <category term="time" scheme="https://www.willshirley.top/categories/time/"/>
    
    
    <category term="snippet" scheme="https://www.willshirley.top/tags/snippet/"/>
    
  </entry>
  
  <entry>
    <title>casdoor point</title>
    <link href="https://www.willshirley.top/2024/06/05/casdoor/"/>
    <id>https://www.willshirley.top/2024/06/05/casdoor/</id>
    <published>2024-06-05T09:42:30.000Z</published>
    <updated>2024-07-24T06:04:09.675Z</updated>
    
    <content type="html"><![CDATA[<h2 id="deploy"><a href="#deploy" class="headerlink" title="deploy"></a>deploy</h2><ul><li><p>docker</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d -p 18000:8000 \</span><br><span class="line">  -v /usr/share/zoneinfo/Asia/Shanghai:/etc/localtime:ro \</span><br><span class="line">  -v /home/dingodb/dongwei/docker/timezone:/etc/timezone:ro \</span><br><span class="line">  casbin/casdoor-all-in-one</span><br></pre></td></tr></table></figure><blockquote><p>容器内部服务端口8000，映射成对外访问接端口 18000</p></blockquote></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;deploy&quot;&gt;&lt;a href=&quot;#deploy&quot; class=&quot;headerlink&quot; title=&quot;deploy&quot;&gt;&lt;/a&gt;deploy&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;docker&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;t</summary>
      
    
    
    
    <category term="casdoor" scheme="https://www.willshirley.top/categories/casdoor/"/>
    
    
    <category term="point" scheme="https://www.willshirley.top/tags/point/"/>
    
  </entry>
  
  <entry>
    <title>oauth2 practise</title>
    <link href="https://www.willshirley.top/2024/05/31/oauth2/"/>
    <id>https://www.willshirley.top/2024/05/31/oauth2/</id>
    <published>2024-05-31T10:04:12.000Z</published>
    <updated>2024-06-02T09:40:33.732Z</updated>
    
    <content type="html"><![CDATA[<h2 id="overview"><a href="#overview" class="headerlink" title="overview"></a>overview</h2><h3 id="OAuth-2-0-terminology"><a href="#OAuth-2-0-terminology" class="headerlink" title="OAuth 2.0 terminology"></a>OAuth 2.0 terminology</h3><ul><li><strong>Resource Owner</strong>: Entity that can grant access to a protected resource. Typically, this is the end-user.</li><li><strong>Client</strong>: Application requesting access to a protected resource on behalf of the Resource Owner.</li><li><strong>Resource Server</strong>: Server hosting the protected resources. This is the API you want to access.</li><li><strong>Authorization Server</strong>: Server that authenticates the Resource Owner and issues Access Tokens after getting proper authorization. In this case, Auth0.</li><li><strong>User Agent</strong>: Agent used by the Resource Owner to interact with the Client (for example, a browser or a native application).</li></ul><p><img src="/images/security/user-journey-oauth.webp" alt="user-journey-oauth"></p><p>The best practice for implementing OAuth2 in a web application with a separate frontend and backend is to use the Backend for Frontend (BFF) pattern. Here’s how it works:</p><p>The frontend (e.g. a Single Page Application) initiates the OAuth2 flow by redirecting the user to the OAuth2 provider’s authorization endpoint. The provider then authenticates the user and redirects back to the frontend with an authorization code.</p><p>The frontend then sends this authorization code to the backend over a secure channel (e.g. HTTPS). The backend acts as a confidential client and exchanges the authorization code with the OAuth2 provider for an access token and refresh token.[1][3]</p><p>The backend stores the tokens securely and returns an opaque session cookie or token to the frontend. This session identifier represents the authenticated user session.[1]</p><p>For subsequent API requests, the frontend includes the session cookie/token. The backend validates the session and retrieves the access token, using it to authenticate the request to the backend API or other third-party APIs on behalf of the user.[1][3]</p><p>This pattern has several advantages:</p><ol><li><p>The access token is never exposed to the frontend, mitigating the risk of token theft.[1][3]</p></li><li><p>The backend can securely store and manage the refresh of access tokens without involving the frontend.[3]</p></li><li><p>The backend can act as a gatekeeper, validating requests and enforcing authorization rules before proxying to third-party APIs.[3]</p></li><li><p>The frontend only needs to handle the initial OAuth2 redirect and session management, simplifying its code.[1]</p></li></ol><p>To implement this, the backend must be registered as a confidential OAuth2 client with the provider. The frontend can use libraries like Auth0 or Google’s client-side libraries to initiate the OAuth2 flow.[1][4] The backend handles the code exchange and token management, often using server-side OAuth2 libraries or middleware.[1]</p><p>Citations:<br>[1] <a href="https://auth0.com/blog/backend-for-frontend-pattern-with-auth0-and-dotnet/">https://auth0.com/blog/backend-for-frontend-pattern-with-auth0-and-dotnet/</a><br>[2] <a href="https://community.qlik.com/t5/New-to-Qlik-Analytics/How-to-Secure-Backend-API-Endpoints-on-the-Front-End-Best/td-p/2423853">https://community.qlik.com/t5/New-to-Qlik-Analytics/How-to-Secure-Backend-API-Endpoints-on-the-Front-End-Best/td-p/2423853</a><br>[3] <a href="https://auth0.com/blog/the-backend-for-frontend-pattern-bff/">https://auth0.com/blog/the-backend-for-frontend-pattern-bff/</a><br>[4] <a href="https://infisical.com/blog/guide-to-implementing-oauth2">https://infisical.com/blog/guide-to-implementing-oauth2</a><br>[5] <a href="https://www.reddit.com/r/node/comments/skmjjn/0auth_implemented_on_frontend_or_backend/">https://www.reddit.com/r/node/comments/skmjjn/0auth_implemented_on_frontend_or_backend/</a></p><hr><p>reference</p><ul><li><a href="https://auth0.com/docs/get-started/authentication-and-authorization-flow/which-oauth-2-0-flow-should-i-use">https://auth0.com/docs/get-started/authentication-and-authorization-flow/which-oauth-2-0-flow-should-i-use</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;overview&quot;&gt;&lt;a href=&quot;#overview&quot; class=&quot;headerlink&quot; title=&quot;overview&quot;&gt;&lt;/a&gt;overview&lt;/h2&gt;&lt;h3 id=&quot;OAuth-2-0-terminology&quot;&gt;&lt;a href=&quot;#OAuth-2-</summary>
      
    
    
    
    <category term="oauth2" scheme="https://www.willshirley.top/categories/oauth2/"/>
    
    
    <category term="pracise" scheme="https://www.willshirley.top/tags/pracise/"/>
    
  </entry>
  
  <entry>
    <title>python pytest</title>
    <link href="https://www.willshirley.top/2024/05/20/python%20pytest/"/>
    <id>https://www.willshirley.top/2024/05/20/python%20pytest/</id>
    <published>2024-05-20T07:21:43.000Z</published>
    <updated>2024-06-03T10:22:44.269Z</updated>
    
    <content type="html"><![CDATA[<h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><ul><li><p>查看测试详情</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest -v</span><br></pre></td></tr></table></figure></li><li><p>测试信息打印</p><blockquote><p>默认情况下，pytest 会捕获所有的输出。这意味着在测试运行期间， <code>print</code> 语句的输出不会显示在控制台上。</p><p>如果想看到 <code>print</code> 语句的输出，需要使用 <code>-s</code> 选项来告诉 pytest 不要捕获输出</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest -s test_web_base.py</span><br></pre></td></tr></table></figure></li><li><p>测试指定方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest tests/unit_tests/document_loaders/test_web_base.py::类名::方法名</span><br></pre></td></tr></table></figure></li><li><p>测试被标记的方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pytest.mark.finished</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_func1</span>():</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="number">1</span> == <span class="number">1</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest -m finished tests/test-function/test_with_mark.py</span><br></pre></td></tr></table></figure></li><li><p>生成测试报告</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest --html=report.html</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;test&quot;&gt;&lt;a href=&quot;#test&quot; class=&quot;headerlink&quot; title=&quot;test&quot;&gt;&lt;/a&gt;test&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;查看测试详情&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr</summary>
      
    
    
    
    <category term="python" scheme="https://www.willshirley.top/categories/python/"/>
    
    
    <category term="pytest" scheme="https://www.willshirley.top/tags/pytest/"/>
    
  </entry>
  
  <entry>
    <title>python TBD</title>
    <link href="https://www.willshirley.top/2024/04/15/python%20pkg%20TBD/"/>
    <id>https://www.willshirley.top/2024/04/15/python%20pkg%20TBD/</id>
    <published>2024-04-15T04:02:38.000Z</published>
    <updated>2024-07-24T03:33:57.795Z</updated>
    
    <content type="html"><![CDATA[<ul><li>fire</li><li>networkx</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;fire&lt;/li&gt;
&lt;li&gt;networkx&lt;/li&gt;
&lt;/ul&gt;
</summary>
      
    
    
    
    <category term="python" scheme="https://www.willshirley.top/categories/python/"/>
    
    
    <category term="TBD" scheme="https://www.willshirley.top/tags/TBD/"/>
    
  </entry>
  
  <entry>
    <title>github copilot</title>
    <link href="https://www.willshirley.top/2024/03/13/github%20copilot/"/>
    <id>https://www.willshirley.top/2024/03/13/github%20copilot/</id>
    <published>2024-03-13T02:00:52.000Z</published>
    <updated>2024-03-13T03:03:26.175Z</updated>
    
    <content type="html"><![CDATA[<h1 id="keywords"><a href="#keywords" class="headerlink" title="keywords"></a>keywords</h1><ul><li><p>提示内容写入 ➡️</p></li><li><p>下一个提示 <code>option + ]</code>，上一个提示 <code>option + [</code></p></li><li><p>接收一行<code>command + 右方向</code> ，多行 <code>control/fn + command + 右方向</code></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;keywords&quot;&gt;&lt;a href=&quot;#keywords&quot; class=&quot;headerlink&quot; title=&quot;keywords&quot;&gt;&lt;/a&gt;keywords&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;提示内容写入 ➡️&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;下一个提示 &lt;cod</summary>
      
    
    
    
    <category term="github" scheme="https://www.willshirley.top/categories/github/"/>
    
    
    <category term="assistant" scheme="https://www.willshirley.top/tags/assistant/"/>
    
  </entry>
  
  <entry>
    <title>GPU learn</title>
    <link href="https://www.willshirley.top/2024/03/08/GPU%20learn/"/>
    <id>https://www.willshirley.top/2024/03/08/GPU%20learn/</id>
    <published>2024-03-08T02:08:49.000Z</published>
    <updated>2024-03-08T02:28:58.252Z</updated>
    
    <content type="html"><![CDATA[<h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><ul><li><p>查看卡的数量</p><p><code>nvidia-smi -L</code></p></li><li><p>查看显卡上运行的程序，以及所占内存情况</p><p><code>nvidia-smi --query-compute-apps=pid,process_name,used_memory,gpu_uuid --format=csv</code></p></li><li><p>查看显卡所剩内存</p><p><code>nvidia-smi --query-gpu=memory.free --format=csv,noheader,nounits</code></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;命令&quot;&gt;&lt;a href=&quot;#命令&quot; class=&quot;headerlink&quot; title=&quot;命令&quot;&gt;&lt;/a&gt;命令&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;查看卡的数量&lt;/p&gt;
&lt;p&gt;&lt;code&gt;nvidia-smi -L&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;查看显</summary>
      
    
    
    
    <category term="GPU" scheme="https://www.willshirley.top/categories/GPU/"/>
    
    
    <category term="learn" scheme="https://www.willshirley.top/tags/learn/"/>
    
  </entry>
  
  <entry>
    <title>python pydantic</title>
    <link href="https://www.willshirley.top/2024/03/05/python%20pkg%20pydantic/"/>
    <id>https://www.willshirley.top/2024/03/05/python%20pkg%20pydantic/</id>
    <published>2024-03-05T03:44:46.000Z</published>
    <updated>2024-04-16T06:22:49.151Z</updated>
    
    <content type="html"><![CDATA[<h2 id="model-validator"><a href="#model-validator" class="headerlink" title="model_validator"></a>model_validator</h2><blockquote><p><code>model_validator</code> 是 Pydantic 库提供的一个装饰器，用于定义模型验证器函数。模型验证器函数是一种特殊的方法，用于在创建模型实例或更新模型属性时执行自定义的验证逻辑。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@model_validator(<span class="params">mode=<span class="string">&quot;after&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">validate_engine_and_run_func</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">if</span> self.search_engine <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        self.search_engine = SearchEngine.from_search_config(self.config.search, proxy=self.config.proxy)</span><br><span class="line">    <span class="keyword">return</span> self</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@model_validator(<span class="params">mode=<span class="string">&quot;before&quot;</span></span>)</span></span><br><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">validate_google</span>(<span class="params">cls, values: <span class="built_in">dict</span></span>) -&gt; <span class="built_in">dict</span>:</span></span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">其中values 是实例化对象的所有参数</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;model-validator&quot;&gt;&lt;a href=&quot;#model-validator&quot; class=&quot;headerlink&quot; title=&quot;model_validator&quot;&gt;&lt;/a&gt;model_validator&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;code</summary>
      
    
    
    
    <category term="python" scheme="https://www.willshirley.top/categories/python/"/>
    
    
    <category term="pydantic" scheme="https://www.willshirley.top/tags/pydantic/"/>
    
  </entry>
  
  <entry>
    <title>llm agent</title>
    <link href="https://www.willshirley.top/2024/01/24/llm%20agent/"/>
    <id>https://www.willshirley.top/2024/01/24/llm%20agent/</id>
    <published>2024-01-24T04:21:30.000Z</published>
    <updated>2024-03-12T02:09:24.219Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Agent = Large Language Model (LLM) + Observation + Thought + Action + Memory</p><p>MultiAgent = Agents + Environment + Standard Operating Procedure (SOP) + Communication + Economy</p><p>ReAct<a href="https://learnprompting.org/zh-Hans/docs/advanced_applications/react#fn-1">1</a>(reason, act) 是一种使用自然语言推理解决复杂任务的语言模型范例，ReAct旨在用于允许LLM执行某些操作的任务</p></blockquote><hr><p><strong>reference</strong></p><ul><li><a href="https://www.ionio.ai/blog/what-is-llm-agent-ultimate-guide-to-llm-agent-with-technical-breakdown">https://www.ionio.ai/blog/what-is-llm-agent-ultimate-guide-to-llm-agent-with-technical-breakdown</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Agent = Large Language Model (LLM) + Observation + Thought + Action + Memory&lt;/p&gt;
&lt;p&gt;MultiAgent = Agents + Environment + Stan</summary>
      
    
    
    
    <category term="llm" scheme="https://www.willshirley.top/categories/llm/"/>
    
    
    <category term="agent" scheme="https://www.willshirley.top/tags/agent/"/>
    
  </entry>
  
  <entry>
    <title>raycast awesome</title>
    <link href="https://www.willshirley.top/2024/01/22/raycast/"/>
    <id>https://www.willshirley.top/2024/01/22/raycast/</id>
    <published>2024-01-22T05:20:28.000Z</published>
    <updated>2024-03-01T03:46:06.585Z</updated>
    
    <content type="html"><![CDATA[<h2 id="extension"><a href="#extension" class="headerlink" title="extension"></a>extension</h2><h2 id="cake"><a href="#cake" class="headerlink" title="cake"></a>cake</h2><ul><li><p>庆祝彩纸</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">confetti</span><br></pre></td></tr></table></figure></li><li><p>弹跳窗口</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Toggle Bounce Animation</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;extension&quot;&gt;&lt;a href=&quot;#extension&quot; class=&quot;headerlink&quot; title=&quot;extension&quot;&gt;&lt;/a&gt;extension&lt;/h2&gt;&lt;h2 id=&quot;cake&quot;&gt;&lt;a href=&quot;#cake&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="tool" scheme="https://www.willshirley.top/categories/tool/"/>
    
    
    <category term="raycast" scheme="https://www.willshirley.top/tags/raycast/"/>
    
  </entry>
  
  <entry>
    <title>keyboard</title>
    <link href="https://www.willshirley.top/2024/01/19/keyboards/"/>
    <id>https://www.willshirley.top/2024/01/19/keyboards/</id>
    <published>2024-01-19T05:58:08.000Z</published>
    <updated>2024-03-13T03:10:05.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="niz-plum"><a href="#niz-plum" class="headerlink" title="niz plum"></a>niz plum</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">对照</span><br><span class="line">ctrl -&gt; control</span><br><span class="line">win/lock -&gt; option</span><br><span class="line">alt -&gt; command</span><br></pre></td></tr></table></figure><ul><li><p>锁定键盘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">右Fn + Esc</span><br></pre></td></tr></table></figure></li><li><p>电源与蓝牙切换</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fn + F11键</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>屏幕移动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + win(option)</span><br></pre></td></tr></table></figure></li><li><p>win / alt 按键切换 （匹配win/mac系统）</p><p>```<br>Fn + Alt 三秒</p></li></ul><hr><ul><li><p>reference</p><p><a href="https://blog.csdn.net/qq_43528451/article/details/113357550">https://blog.csdn.net/qq_43528451/article/details/113357550</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;niz-plum&quot;&gt;&lt;a href=&quot;#niz-plum&quot; class=&quot;headerlink&quot; title=&quot;niz plum&quot;&gt;&lt;/a&gt;niz plum&lt;/h1&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t</summary>
      
    
    
    
    <category term="keyboard" scheme="https://www.willshirley.top/categories/keyboard/"/>
    
    
    <category term="tool" scheme="https://www.willshirley.top/tags/tool/"/>
    
  </entry>
  
  <entry>
    <title>finite state machine</title>
    <link href="https://www.willshirley.top/2024/01/19/finite%20state%20machine/"/>
    <id>https://www.willshirley.top/2024/01/19/finite%20state%20machine/</id>
    <published>2024-01-19T03:13:16.000Z</published>
    <updated>2024-05-28T10:02:45.542Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>The FSM can change from one state to another in response to some inputs; the change from one state to another is called a <em>transition</em>.</p></blockquote><p><img src="./images/fsm/Automata_theory.png"></p><hr><p><strong>reference</strong></p><ul><li><a href="https://en.wikipedia.org/wiki/Finite-state_machine">https://en.wikipedia.org/wiki/Finite-state_machine</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;The FSM can change from one state to another in response to some inputs; the change from one state to another is called a &lt;e</summary>
      
    
    
    
    <category term="fsm" scheme="https://www.willshirley.top/categories/fsm/"/>
    
    
    <category term="fsm" scheme="https://www.willshirley.top/tags/fsm/"/>
    
  </entry>
  
  <entry>
    <title>openai learn</title>
    <link href="https://www.willshirley.top/2024/01/19/openai%20learn/"/>
    <id>https://www.willshirley.top/2024/01/19/openai%20learn/</id>
    <published>2024-01-19T02:07:04.000Z</published>
    <updated>2024-03-12T02:07:10.964Z</updated>
    
    <content type="html"><![CDATA[<h1 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h1><h1 id="request"><a href="#request" class="headerlink" title="request"></a>request</h1><h3 id="conversion"><a href="#conversion" class="headerlink" title="conversion"></a>conversion</h3><ul><li><p>request</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl POST https://chat.openai.com/backend-api/conversation</span><br></pre></td></tr></table></figure></li><li><p>payload</p></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;action&quot;</span>: <span class="string">&quot;next&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;messages&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;aaa25811-d62c-4f23-963a-77c6eb90b899&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;author&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;content&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;content_type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;parts&quot;</span>: [</span><br><span class="line">          <span class="string">&quot;你是如何带上上下文进行问答的，用python代码说下示例&quot;</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;metadata&quot;</span>: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;conversation_id&quot;</span>: <span class="string">&quot;0e02cc29-8cc2-4305-91a1-a3db1427f400&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;parent_message_id&quot;</span>: <span class="string">&quot;36d4ff94-fb3f-4f9b-beeb-d9c93f5752fe&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;model&quot;</span>: <span class="string">&quot;text-davinci-002-render-sha&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;timezone_offset_min&quot;</span>: <span class="number">-480</span>,</span><br><span class="line">  <span class="attr">&quot;suggestions&quot;</span>: [],</span><br><span class="line">  <span class="attr">&quot;history_and_training_disabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;arkose_token&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">&quot;conversation_mode&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;kind&quot;</span>: <span class="string">&quot;primary_assistant&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;force_paragen&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;force_rate_limit&quot;</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ces-v1-t"><a href="#ces-v1-t" class="headerlink" title="ces/v1/t"></a>ces/v1/t</h3><ul><li><p>request</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://chat.openai.com/ces/v1/t</span><br></pre></td></tr></table></figure></li><li><p>payload</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;timestamp&quot;</span>: <span class="string">&quot;2024-01-19T08:35:53.805Z&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;integrations&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;Segment.io&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;userId&quot;</span>: <span class="string">&quot;user-EyJTf0sEV6sYCFhgOwqCHGD2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;anonymousId&quot;</span>: <span class="string">&quot;dafc8561-54d1-4cb8-9cdf-91e5e4f7162e&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;event&quot;</span>: <span class="string">&quot;View Template Prompt Ignore Suggestions&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;track&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;properties&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;origin&quot;</span>: <span class="string">&quot;chat&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;openai_app&quot;</span>: <span class="string">&quot;API&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;context&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;page&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;path&quot;</span>: <span class="string">&quot;/c/0e02cc29-8cc2-4305-91a1-a3db1427f400&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;referrer&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;search&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;feel&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://chat.openai.com/c/0e02cc29-8cc2-4305-91a1-a3db1427f400&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;userAgent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;locale&quot;</span>: <span class="string">&quot;zh-CN&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;library&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;analytics.js&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;npm:next-1.56.0&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;userAgentData&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;brands&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;brand&quot;</span>: <span class="string">&quot;Not_A Brand&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;8&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;brand&quot;</span>: <span class="string">&quot;Chromium&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;120&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;brand&quot;</span>: <span class="string">&quot;Google Chrome&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;120&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;mobile&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;platform&quot;</span>: <span class="string">&quot;macOS&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;messageId&quot;</span>: <span class="string">&quot;ajs-next-c0f7b6265ed3eab440b0d44f21f53ffa&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;sentAt&quot;</span>: <span class="string">&quot;2024-01-19T08:35:54.068Z&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;_metadata&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;bundled&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;Segment.io&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;unbundled&quot;</span>: [],</span><br><span class="line">    <span class="attr">&quot;bundledIds&quot;</span>: []</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="rgstr"><a href="#rgstr" class="headerlink" title="rgstr"></a>rgstr</h3><ul><li><p>request</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://events.statsigapi.net/v1/rgstr</span><br></pre></td></tr></table></figure></li><li><p>payload</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;events&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;eventName&quot;</span>: <span class="string">&quot;chatgpt_prompt_ignore_suggestions&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;user&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;userID&quot;</span>: <span class="string">&quot;user-EyJTf0sEV6sYCFhgOwqCHGD2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;custom&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;is_paid&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">&quot;workspace_id&quot;</span>: <span class="string">&quot;b27c1f77-bb94-4e8f-a6d3-4b30a0eec927&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;locale&quot;</span>: <span class="string">&quot;zh-CN&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;statsigEnvironment&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;tier&quot;</span>: <span class="string">&quot;production&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;value&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">&quot;metadata&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">&quot;time&quot;</span>: <span class="number">1705653353804</span>,</span><br><span class="line">      <span class="attr">&quot;statsigMetadata&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;currentPage&quot;</span>: <span class="string">&quot;https://chat.openai.com/c/0e02cc29-8cc2-4305-91a1-a3db1427f400&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;statsigMetadata&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;sdkType&quot;</span>: <span class="string">&quot;js-client&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;sdkVersion&quot;</span>: <span class="string">&quot;4.39.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;stableID&quot;</span>: <span class="string">&quot;f0eaa0cd-f15f-4d71-ab51-8a91e92aea53&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="backend-lat-r"><a href="#backend-lat-r" class="headerlink" title="backend/lat/r"></a>backend/lat/r</h3><ul><li><p>request</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://chat.openai.com/backend-api/lat/r</span><br></pre></td></tr></table></figure></li><li><p>payload</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;server_request_id&quot;</span>: <span class="string">&quot;847dbf366a92408c-SIN&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;model&quot;</span>: <span class="string">&quot;text-davinci-002-render-sha&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;preflight_time_ms&quot;</span>: <span class="number">0.09999990463256836</span>,</span><br><span class="line">  <span class="attr">&quot;count_tokens&quot;</span>: <span class="number">472</span>,</span><br><span class="line">  <span class="attr">&quot;ts_first_token_ms&quot;</span>: <span class="number">1548.7000000476837</span>,</span><br><span class="line">  <span class="attr">&quot;ts_max_token_time_ms&quot;</span>: <span class="number">764</span>,</span><br><span class="line">  <span class="attr">&quot;ts_mean_token_without_first_ms&quot;</span>: <span class="number">30.007855625922005</span>,</span><br><span class="line">  <span class="attr">&quot;ts_median_token_without_first_ms&quot;</span>: <span class="number">21.799999952316284</span>,</span><br><span class="line">  <span class="attr">&quot;ts_min_token_time_ms&quot;</span>: <span class="number">0.09999990463256836</span>,</span><br><span class="line">  <span class="attr">&quot;ts_p95_token_without_first_ms&quot;</span>: <span class="number">88.99999988079071</span>,</span><br><span class="line">  <span class="attr">&quot;ts_p99_token_without_first_ms&quot;</span>: <span class="number">139.65999991893773</span>,</span><br><span class="line">  <span class="attr">&quot;ts_std_dev_token_ms&quot;</span>: <span class="number">44.98320283392762</span>,</span><br><span class="line">  <span class="attr">&quot;ts_total_request_ms&quot;</span>: <span class="number">15695.399999856949</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><h2 id="client-chat-completions-create"><a href="#client-chat-completions-create" class="headerlink" title="client.chat.completions.create"></a>client.chat.completions.create</h2><ul><li><p>request</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">response = client.chat.completions.create(</span><br><span class="line">           model=<span class="string">&quot;gpt-3.5-turbo-1106&quot;</span>,</span><br><span class="line">           messages=[</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="attr">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>,</span><br><span class="line">                   <span class="attr">&quot;content&quot;</span>: prompt_str,</span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="attr">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,</span><br><span class="line">                   <span class="attr">&quot;content&quot;</span>: user_input.question,</span><br><span class="line">               &#125;,</span><br><span class="line">           ],</span><br><span class="line">       )</span><br></pre></td></tr></table></figure></li><li><p>response</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;chatcmpl-8ify2KU1ANzQPQyD8WVMp6rZWgYtj&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;choices&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;finish_reason&quot;</span>: <span class="string">&quot;stop&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;index&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">&quot;logprobs&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">&quot;message&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;content&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;role&quot;</span>: <span class="string">&quot;assistant&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;function_call&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">                <span class="attr">&quot;tool_calls&quot;</span>: <span class="literal">null</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;created&quot;</span>: <span class="number">1705658446</span>,</span><br><span class="line">    <span class="attr">&quot;model&quot;</span>: <span class="string">&quot;gpt-3.5-turbo-1106&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;object&quot;</span>: <span class="string">&quot;chat.completion&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;system_fingerprint&quot;</span>: <span class="string">&quot;fp_c596c86df9&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;usage&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;completion_tokens&quot;</span>: <span class="number">51</span>,</span><br><span class="line">        <span class="attr">&quot;prompt_tokens&quot;</span>: <span class="number">1068</span>,</span><br><span class="line">        <span class="attr">&quot;total_tokens&quot;</span>: <span class="number">1119</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;UI&quot;&gt;&lt;a href=&quot;#UI&quot; class=&quot;headerlink&quot; title=&quot;UI&quot;&gt;&lt;/a&gt;UI&lt;/h1&gt;&lt;h1 id=&quot;request&quot;&gt;&lt;a href=&quot;#request&quot; class=&quot;headerlink&quot; title=&quot;request&quot;&gt;&lt;/</summary>
      
    
    
    
    <category term="fragment" scheme="https://www.willshirley.top/categories/fragment/"/>
    
    
    <category term="snippet" scheme="https://www.willshirley.top/tags/snippet/"/>
    
  </entry>
  
  <entry>
    <title>llm snippet</title>
    <link href="https://www.willshirley.top/2024/01/10/llm%20snippet/"/>
    <id>https://www.willshirley.top/2024/01/10/llm%20snippet/</id>
    <published>2024-01-10T07:03:53.000Z</published>
    <updated>2024-03-12T02:09:20.031Z</updated>
    
    <content type="html"><![CDATA[<h2 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h2><ul><li>大模型往往含有大量的参数和复杂的神经网络结构，需要高度的并行处理能力和大的内存带宽来有效地训练和运行。GPU在这些方面的优势让它成为运行大型AI模型的首选硬件。但这不意味着CPU完全无法运行这些模型，只是相对来说CPU运行起来效率低，可能会非常慢，因此在实际应用中通常选择GPU来进行深度学习任务。</li></ul><h2 id="Fine-tuning-vs-Embedding"><a href="#Fine-tuning-vs-Embedding" class="headerlink" title="Fine-tuning vs Embedding"></a>Fine-tuning vs Embedding</h2><ul><li>If you are trying to “teach” the model new information, embeddings is the way to go. If you want to change the structure or way it response, then use fine-tuning.</li></ul><hr><ul><li><strong>Fine-tuning:</strong> Teach the model <em>how</em> to answer a question (e.g. structure/format, personality, etc)</li><li><strong>Embedding:</strong> Provide the model with new/specific information with which to answer questions.</li></ul><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;GPU&quot;&gt;&lt;a href=&quot;#GPU&quot; class=&quot;headerlink&quot; title=&quot;GPU&quot;&gt;&lt;/a&gt;GPU&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;大模型往往含有大量的参数和复杂的神经网络结构，需要高度的并行处理能力和大的内存带宽来有效地训练和运行。GPU在这些方面的</summary>
      
    
    
    
    <category term="llm" scheme="https://www.willshirley.top/categories/llm/"/>
    
    
    <category term="sinppet" scheme="https://www.willshirley.top/tags/sinppet/"/>
    
  </entry>
  
  <entry>
    <title>jupyter</title>
    <link href="https://www.willshirley.top/2024/01/09/python%20jupyter/"/>
    <id>https://www.willshirley.top/2024/01/09/python%20jupyter/</id>
    <published>2024-01-09T03:48:17.000Z</published>
    <updated>2024-02-23T01:45:33.679Z</updated>
    
    <content type="html"><![CDATA[<h2 id="魔法指令"><a href="#魔法指令" class="headerlink" title="魔法指令"></a>魔法指令</h2><table><thead><tr><th>魔法指令</th><th>功能说明</th></tr></thead><tbody><tr><td><code>%pwd</code></td><td>查看当前工作目录</td></tr><tr><td><code>%ls</code></td><td>列出当前或指定文件夹下的内容</td></tr><tr><td><code>%cat</code></td><td>查看指定文件的内容</td></tr><tr><td><code>%hist</code></td><td>查看输入历史</td></tr><tr><td><code>%matplotlib inline</code></td><td>设置在页面中嵌入matplotlib输出的统计图表</td></tr><tr><td><code>%config Inlinebackend.figure_format=&#39;svg&#39;</code></td><td>设置统计图表使用SVG格式（矢量图）</td></tr><tr><td><code>%run</code></td><td>运行指定的程序</td></tr><tr><td><code>%load</code></td><td>加载指定的文件到单元格中</td></tr><tr><td><code>%quickref</code></td><td>显示IPython的快速参考</td></tr><tr><td><code>%timeit</code></td><td>多次运行代码并统计代码执行时间</td></tr><tr><td><code>%prun</code></td><td>用<code>cProfile.run</code>运行代码并显示分析器的输出</td></tr><tr><td><code>%who</code> / <code>%whos</code></td><td>显示命名空间中的变量</td></tr><tr><td><code>%xdel</code></td><td>删除一个对象并清理所有对它的引用</td></tr></tbody></table><h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><p>JupyterLab 的快捷键可以分为<strong>命令模式</strong>下的快捷键和<strong>编辑模式</strong>下的快捷键，</p><p>所谓编辑模式就是处于输入代码或撰写文档状态的模式，在编辑模式下按<code>Esc</code>可以回到命令模式，在命令模式下按<code>Enter</code>可以进入编辑模式。</p><ul><li>命令模式下的快捷键：</li></ul><table><thead><tr><th>快捷键</th><th>功能说明</th></tr></thead><tbody><tr><td><code>Alt</code> + <code>Enter</code></td><td>运行当前单元格并在下面插入新的单元格</td></tr><tr><td><code>Shift</code> + <code>Enter</code></td><td>运行当前单元格并选中下方的单元格</td></tr><tr><td><code>Ctrl</code> + <code>Enter</code></td><td>运行当前单元格</td></tr><tr><td><code>j</code> / <code>k</code>、<code>Shift</code> + <code>j</code> / <code>Shift</code> + <code>k</code></td><td>选中下方/上方单元格、连续选中下方/上方单元格</td></tr><tr><td><code>a</code> / <code>b</code></td><td>在下方/上方插入新的单元格</td></tr><tr><td><code>c</code> / <code>x</code></td><td>复制单元格 / 剪切单元格</td></tr><tr><td><code>v</code> / <code>Shift</code> + <code>v</code></td><td>在下方/上方粘贴单元格</td></tr><tr><td><code>dd</code> / <code>z</code></td><td>删除单元格 / 恢复删除的单元格</td></tr><tr><td><code>Shift</code> + <code>l</code></td><td>显示或隐藏当前/所有单元格行号</td></tr><tr><td><code>Space</code> / <code>Shift</code> + <code>Space</code></td><td>向下/向上滚动页面</td></tr></tbody></table><ul><li>编辑模式下的快捷键：</li></ul><table><thead><tr><th>快捷键</th><th>功能说明</th></tr></thead><tbody><tr><td><code>Shift</code> + <code>Tab</code></td><td>获得提示信息</td></tr><tr><td><code>Ctrl</code> + <code>]</code>/ <code>Ctrl</code> + <code>[</code></td><td>增加/减少缩进</td></tr><tr><td><code>Alt</code> + <code>Enter</code></td><td>运行当前单元格并在下面插入新的单元格</td></tr><tr><td><code>Shift</code> + <code>Enter</code></td><td>运行当前单元格并选中下方的单元格</td></tr><tr><td><code>Ctrl</code> + <code>Enter</code></td><td>运行当前单元格</td></tr><tr><td><code>Ctrl</code> + <code>Left</code> / <code>Right</code></td><td>光标移到行首/行尾</td></tr><tr><td><code>Ctrl</code> + <code>Up</code> / <code>Down</code></td><td>光标移动代码开头/结尾处</td></tr><tr><td><code>Up</code> / <code>Down</code></td><td>光标上移/下移一行或移到上/下一个单元格</td></tr></tbody></table><blockquote><p><strong>说明</strong>：对于 macOS 系统可以将<code>Alt</code>键替换成<code>Option</code>键，将<code>Ctrl</code>键替换成<code>Command</code>键。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;魔法指令&quot;&gt;&lt;a href=&quot;#魔法指令&quot; class=&quot;headerlink&quot; title=&quot;魔法指令&quot;&gt;&lt;/a&gt;魔法指令&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;魔法指令&lt;/th&gt;
&lt;th&gt;功能说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;</summary>
      
    
    
    
    <category term="jupyter" scheme="https://www.willshirley.top/categories/jupyter/"/>
    
    
    <category term="ide" scheme="https://www.willshirley.top/tags/ide/"/>
    
  </entry>
  
</feed>
