<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="bashBash Scripting Tutorial for Beginners Bash Shell Scripting Definition Bash:Bourne-Again SHellBash is a command language interpreter. conclusionDo not be afraid to break things as that is perfectly">
<meta property="og:type" content="article">
<meta property="og:title" content="linux system command">
<meta property="og:url" content="https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/index.html">
<meta property="og:site_name" content="Discipline &amp; Reflect">
<meta property="og:description" content="bashBash Scripting Tutorial for Beginners Bash Shell Scripting Definition Bash:Bourne-Again SHellBash is a command language interpreter. conclusionDo not be afraid to break things as that is perfectly">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.willshirley.top/images/linux/issuse-root_filesystem.png">
<meta property="article:published_time" content="2016-10-16T04:01:30.000Z">
<meta property="article:modified_time" content="2025-04-22T07:25:43.435Z">
<meta property="article:author" content="brook">
<meta property="article:tag" content="command">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.willshirley.top/images/linux/issuse-root_filesystem.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>linux system command</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="Discipline & Reflect" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/archives/">Log</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2016/10/16/linux%20cmd:%20file/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2016/08/05/git/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&text=linux system command"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=linux system command&body=Check out this article: https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&title=linux system command"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&title=linux system command"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&title=linux system command"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&t=linux system command"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#bash"><span class="toc-number">1.</span> <span class="toc-text">bash</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bash-Shell-Scripting-Definition"><span class="toc-number">1.0.1.</span> <span class="toc-text">Bash Shell Scripting Definition</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#conclusion"><span class="toc-number">1.1.</span> <span class="toc-text">conclusion</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ssh"><span class="toc-number">1.1.1.</span> <span class="toc-text">ssh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#session"><span class="toc-number">1.1.2.</span> <span class="toc-text">session</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#firewall"><span class="toc-number">1.1.3.</span> <span class="toc-text">firewall</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9B%B8%E5%85%B3"><span class="toc-number">1.1.4.</span> <span class="toc-text">磁盘相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#history"><span class="toc-number">1.1.5.</span> <span class="toc-text">history</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#swap"><span class="toc-number">1.1.6.</span> <span class="toc-text">swap</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Memory"><span class="toc-number">2.</span> <span class="toc-text">Memory</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OOM"><span class="toc-number">2.1.</span> <span class="toc-text">OOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%AF%E5%88%86%E6%9C%BA%E5%88%B6"><span class="toc-number">2.1.1.</span> <span class="toc-text">积分机制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#process"><span class="toc-number">3.</span> <span class="toc-text">process</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#operate"><span class="toc-number">4.</span> <span class="toc-text">operate</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hostname"><span class="toc-number">4.0.1.</span> <span class="toc-text">hostname</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#user"><span class="toc-number">4.0.2.</span> <span class="toc-text">user</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BD%E5%AE%89%E8%A3%85%E7%9A%84%E8%BD%AF%E4%BB%B6"><span class="toc-number">4.0.3.</span> <span class="toc-text">卸载安装的软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85deb%E6%96%87%E4%BB%B6%E5%87%BA%E9%94%99%E6%97%B6"><span class="toc-number">4.0.4.</span> <span class="toc-text">安装deb文件出错时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#centos%E5%AE%89%E8%A3%85%E7%A6%BB%E7%BA%BF%E4%BE%9D%E8%B5%96"><span class="toc-number">4.0.5.</span> <span class="toc-text">centos安装离线依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%89%E6%A0%87"><span class="toc-number">4.0.6.</span> <span class="toc-text">光标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%8C%BA"><span class="toc-number">4.0.7.</span> <span class="toc-text">时区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F"><span class="toc-number">4.0.8.</span> <span class="toc-text">日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%AA%E5%88%87%E6%9D%BF"><span class="toc-number">4.0.9.</span> <span class="toc-text">剪切板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#securtCRT"><span class="toc-number">4.0.10.</span> <span class="toc-text">securtCRT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#top"><span class="toc-number">4.0.11.</span> <span class="toc-text">top</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5"><span class="toc-number">4.0.12.</span> <span class="toc-text">查看指定服务的运行情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E5%8D%A0%E7%94%A8"><span class="toc-number">4.0.13.</span> <span class="toc-text">资源占用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#system"><span class="toc-number">5.</span> <span class="toc-text">system</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#kernel-dumps"><span class="toc-number">5.1.</span> <span class="toc-text">kernel dumps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#core-dumps"><span class="toc-number">5.2.</span> <span class="toc-text">core dumps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#time"><span class="toc-number">5.3.</span> <span class="toc-text">time</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#process-1"><span class="toc-number">5.4.</span> <span class="toc-text">process</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE"><span class="toc-number">5.5.</span> <span class="toc-text">查看系统配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E5%86%85%E5%AD%98"><span class="toc-number">5.6.</span> <span class="toc-text">清理内存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bbuff-cache"><span class="toc-number">5.7.</span> <span class="toc-text">查看buff&#x2F;cache</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#troubleshooting"><span class="toc-number">6.</span> <span class="toc-text">troubleshooting</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E6%8C%89%E9%94%AE%E4%BC%9A%E5%9C%A8%E7%BB%88%E7%AB%AF%E8%BE%93%E5%85%A5%E4%B9%B1%E7%A0%81"><span class="toc-number">6.1.</span> <span class="toc-text">鼠标按键会在终端输入乱码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#received-disconnect-from-x-port-22-2-Too-many-authentication-failures"><span class="toc-number">6.2.</span> <span class="toc-text">received disconnect from x port 22:2: Too many authentication failures</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#etc-hosts-%E6%96%87%E4%BB%B6%E6%97%A0%E6%B3%95%E7%BC%96%E8%BE%91"><span class="toc-number">6.3.</span> <span class="toc-text">&#x2F;etc&#x2F;hosts 文件无法编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cannot-create-a-temporary-file"><span class="toc-number">6.4.</span> <span class="toc-text">Cannot create a temporary file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#root-filesystem-xxx-UNEXPECTED-INCONSISTENCY-RUN-fsck-MANUALLY"><span class="toc-number">6.5.</span> <span class="toc-text">root filesystem xxx UNEXPECTED INCONSISTENCY; RUN fsck MANUALLY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-fatal-error-was-detected-on-a-component-at-bus-0-device-2-function-0"><span class="toc-number">6.6.</span> <span class="toc-text">A fatal error was detected on a component at bus 0 device 2 function 0.</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        linux system command
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">brook</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2016-10-16T04:01:30.000Z" class="dt-published" itemprop="datePublished">2016-10-16</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/linux/">linux</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/command/" rel="tag">command</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="bash"><a href="#bash" class="headerlink" title="bash"></a>bash</h1><p><a target="_blank" rel="noopener" href="https://linuxconfig.org/bash-scripting-tutorial-for-beginners">Bash Scripting Tutorial for Beginners</a></p>
<h3 id="Bash-Shell-Scripting-Definition"><a href="#Bash-Shell-Scripting-Definition" class="headerlink" title="Bash Shell Scripting Definition"></a>Bash Shell Scripting Definition</h3><ul>
<li>Bash:Bourne-Again SHell<br>Bash is a command language interpreter. <h2 id="conclusion"><a href="#conclusion" class="headerlink" title="conclusion"></a>conclusion</h2>Do not be afraid to break things as that is perfectly normal. Troubleshooting and fixing code is perhaps the best booster for you to enhance your understanding of bash scripting and to improve your ability.</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://linuxconfig.org/bash-scripting-tutorial#h24-stdout-to-screen">Bash scripting Tutorial</a></p>
<h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> step1: generate ssh-key <span class="keyword">in</span> all nodes</span></span><br><span class="line">ssh-keygen -t rsa</span><br><span class="line"><span class="meta">#</span><span class="bash"> step2: <span class="keyword">in</span> first node</span></span><br><span class="line">cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line"><span class="meta">#</span><span class="bash"> step3: <span class="keyword">in</span> other node</span></span><br><span class="line">ssh-copy-id -i id_rsa.pub 用户@&lt;first_node&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> step4: <span class="keyword">in</span> first node</span></span><br><span class="line">scp authorized_keys 用户@&lt;other_node&gt;:~/.ssh/</span><br></pre></td></tr></table></figure>

<h3 id="session"><a href="#session" class="headerlink" title="session"></a>session</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- kill seesion </span><br><span class="line">screen -X -S [session # you want to kill] quit</span><br><span class="line">- 新建screen会话</span><br><span class="line">screen -S xxx</span><br><span class="line">- 恢复指定会话</span><br><span class="line">screen -r xxx</span><br><span class="line">- 查看所有会话</span><br><span class="line">screen -ls</span><br><span class="line">- 删除指定会话</span><br><span class="line">screen -S xxx -X quit</span><br><span class="line">- 回到终端</span><br><span class="line">Ctrl-a d</span><br></pre></td></tr></table></figure>

<h3 id="firewall"><a href="#firewall" class="headerlink" title="firewall"></a>firewall</h3><ul>
<li><p>check status : <code>sudo ufw status</code></p>
</li>
<li><p>enable firewall: </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw <span class="built_in">enable</span></span><br><span class="line">Command may disrupt existing ssh connections. Proceed with operation (y|n)? y</span><br><span class="line">Firewall is active and enabled on system startup</span><br></pre></td></tr></table></figure></li>
<li><p>disable firewall</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ufw <span class="built_in">disable</span></span><br><span class="line">Firewall stopped and disabled on system startup</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="磁盘相关"><a href="#磁盘相关" class="headerlink" title="磁盘相关"></a>磁盘相关</h3><ul>
<li><p>查看系统磁盘占用情况    <code> df -h</code></p>
</li>
<li><p>查看目录下文件大小        <code>du -sh</code></p>
</li>
<li><p>查看当前目录下一级子文件和子目录占用的磁盘容量: <code>du -h --max-depth=1 </code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查看当前目录下user目录的大小，并不想看其他目录以及其子目录：</span><br><span class="line">du -sh user</span><br><span class="line">-s表示总结的意思，即只列出一个总结的值</span><br><span class="line">du -h --max-depth=0 user</span><br><span class="line">--max-depth=n表示只深入到第n层目录，此处设置为0，即表示不深入到子目录。</span><br></pre></td></tr></table></figure></li>
<li><p>总结du常用命令</p>
<p><strong>du -h –max-depth=1 |grep ‘G’ |sort   #查看上G目录并排序</strong></p>
<p>du -h –max-depth=1 |grep [TG] |sort   #查找上G和T的目录并排序<br>du -sh –max-depth=1  #查看当前目录下所有一级子目录文件夹大小</p>
</li>
<li><p>清理指定目录下的文件</p>
<p>例如需要根据时间删除这个目录下的文件，/tmp，清理掉20天之前的无效数据。可以使用下面一条命令去完成：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">find /tmp -mtime +21 -name &quot;*&quot; -exec rm -Rf &#123;&#125; \;</span><br><span class="line">- /tmp ：准备要进行清理的任意目录</span><br><span class="line">- -mtime：标准语句写法</span><br><span class="line">- ＋10：查找10天前的文件，这里用数字代表天数，＋30表示查找30天前的文件</span><br><span class="line">- &quot;*&quot;：希望查找的数据类型，&quot;.jpg&quot;表示查找扩展名为jpg的所有文件，&quot;&quot;表示查找所有文件</span><br><span class="line">- -exec：固定写法</span><br><span class="line">- rm -Rf：强制删除文件，包括目录(注意R大写，f小写)</span><br><span class="line">-  &#123;&#125; \; 固定写法，一对大括号+空格+\+; </span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><p>查看历史命令，支持 grep过滤操作</p>
<h3 id="swap"><a href="#swap" class="headerlink" title="swap"></a>swap</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> temp</span></span><br><span class="line">sudo swapoff -a</span><br><span class="line"><span class="meta">#</span><span class="bash"> persistent</span></span><br><span class="line">sudo sed -i &#x27;/[[:space:]]swap[[:space:]]/s/^/#/&#x27; /etc/fstab</span><br></pre></td></tr></table></figure>

<h1 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h1><h2 id="OOM"><a href="#OOM" class="headerlink" title="OOM"></a>OOM</h2><h3 id="积分机制"><a href="#积分机制" class="headerlink" title="积分机制"></a>积分机制</h3><blockquote>
<p>OOM（Out-Of-Memory）积分机制是 Linux 内核在系统内存耗尽时，通过评估进程的优先级和内存使用情况，选择一个或多个进程终止以释放内存的一种机制。其核心目标是在内存不足时，最小化系统崩溃风险并优先保留关键进程。</p>
</blockquote>
<p><strong>OOM 积分机制的工作原理</strong></p>
<ol>
<li><strong><code>oom_score</code> 计算</strong><br>每个进程的 <code>oom_score</code>（位于 <code>/proc/&lt;pid&gt;/oom_score</code>）决定了它被 OOM Killer 选中的概率。分数越高，进程越可能被终止。计算依据包括：<ul>
<li><strong>内存使用量</strong>：进程占用的物理内存和交换分区（Swap）的总和。</li>
<li><strong>运行时间</strong>：长时间运行的进程可能被适当保护（通过 <code>oom_score_adj</code> 调整）。</li>
<li><strong>进程优先级</strong>：低优先级（高 <code>nice</code> 值）的进程更易被终止。</li>
<li><strong>子进程内存</strong>：父进程的子进程内存可能计入父进程的评分。</li>
<li><strong>用户权限</strong>：特权进程（如 root 用户进程）可能被保护。</li>
</ul>
</li>
<li><strong><code>oom_score_adj</code> 调整因子</strong><br>用户可通过 <code>/proc/&lt;pid&gt;/oom_score_adj</code> 文件（范围：<code>-1000</code> 到 <code>1000</code>）手动干预评分：<ul>
<li><strong>负值</strong>：降低被终止概率（如 <code>-1000</code> 表示免疫 OOM Killer）。</li>
<li><strong>正值</strong>：增加被终止概率。</li>
</ul>
</li>
</ol>
<p><strong>调整 OOM 参数的常见方法</strong></p>
<ul>
<li><p><strong>保护关键进程</strong>：<br>通过修改 <code>oom_score_adj</code> 降低其被终止的概率：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -1000 &gt; /proc/&lt;pid&gt;/oom_score_adj  # 使进程免疫 OOM Killer</span><br></pre></td></tr></table></figure></li>
<li><p><strong>增大进程终止概率</strong>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 500 &gt; /proc/&lt;pid&gt;/oom_score_adj     # 增大终止概率</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="process"><a href="#process" class="headerlink" title="process"></a>process</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> check specify process <span class="built_in">limit</span> info</span></span><br><span class="line">cat /proc/&lt;pid&gt;/limits</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Check total-vm / anon-rss</span></span><br><span class="line">cat /proc/&lt;pid&gt;/status</span><br></pre></td></tr></table></figure>

<ul>
<li><p>check memory limit</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Get the Cgroup Path</span></span><br><span class="line">cat /proc/&lt;pid&gt;/cgroup</span><br><span class="line"><span class="meta">#</span><span class="bash"> eg.</span></span><br><span class="line">cat /proc/51683/cgroup print</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">print</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 0::/system.slice/dingofs-mount.service</span></span><br><span class="line">cgroup_path=&quot;/sys/fs/cgroup/system.slice/dingofs-mount.service&quot;</span><br><span class="line">cat &quot;$cgroup_path/memory.max&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="operate"><a href="#operate" class="headerlink" title="operate"></a>operate</h1><h3 id="hostname"><a href="#hostname" class="headerlink" title="hostname"></a>hostname</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo hostnamectl set-hostname &lt;new-hostname&gt;</span><br><span class="line">sudo hostnamectl status</span><br></pre></td></tr></table></figure>

<h3 id="user"><a href="#user" class="headerlink" title="user"></a>user</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> sudo权限用户切换成root</span></span><br><span class="line">sudo -i</span><br><span class="line">sudo su -</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> add user</span></span><br><span class="line">sudo useradd -m -s /bin/bash &lt;username&gt;</span><br><span class="line"></span><br><span class="line">  dingofs ALL=(ALL) NOPASSWD:ALL</span><br><span class="line"><span class="meta">#</span><span class="bash">	-m: Creates a home directory <span class="keyword">for</span> the user.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">	-s /bin/bash: Sets the default shell to /bin/bash.</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> config password</span></span><br><span class="line">passwd &lt;username&gt;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> add user to sudo group</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> opitional-1 ubuntu/debian</span></span><br><span class="line">usermod -aG sudo &lt;username&gt;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> opitional-2 edit visudo</span></span><br><span class="line">visudo</span><br><span class="line">&lt;username&gt; ALL=(ALL) NOPASSWD:ALL</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> delete user</span></span><br><span class="line">userdel &lt;username&gt;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">set</span> uid:65535 to nobody base on gid: nobody 65534</span> </span><br><span class="line">sudo useradd -u 65535 -g 65534 -d /nonexistent -s /usr/sbin/nologin nobody65535</span><br></pre></td></tr></table></figure>

<h3 id="卸载安装的软件"><a href="#卸载安装的软件" class="headerlink" title="卸载安装的软件"></a>卸载安装的软件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">浏览已安装的程序    dpkg --list</span><br><span class="line">卸载程序和所有配置文件    sudo apt-get --purge remove &lt;programname&gt;</span><br><span class="line">只卸载程序    sudo apt-get remove &lt;programname&gt;</span><br></pre></td></tr></table></figure>

<h3 id="安装deb文件出错时"><a href="#安装deb文件出错时" class="headerlink" title="安装deb文件出错时"></a>安装deb文件出错时</h3><p>使用<code>apt-get -f -y install</code>修复之后，再进行安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.执行命令sudo dpkg　-i　XXX.deb　返回依赖关系错误提示</span><br><span class="line">2.执行sudo apt-get -f install　这条命令将自动安装需要的依赖包．</span><br><span class="line">3.再次执行命令sudo dpkg　-i　XXX.deb　安装成功</span><br></pre></td></tr></table></figure>

<h3 id="centos安装离线依赖"><a href="#centos安装离线依赖" class="headerlink" title="centos安装离线依赖"></a>centos安装离线依赖</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh name.rpm</span><br></pre></td></tr></table></figure>

<h3 id="光标"><a href="#光标" class="headerlink" title="光标"></a>光标</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+a：光标回到命令行首。 （a：ahead）</span><br><span class="line">Ctrl+e：光标回到命令行尾。 （e：end）</span><br><span class="line">Ctrl+b：光标向行首移动一个字符。 （b：backwards）</span><br><span class="line">Ctrl+f：光标向行尾移动一个字符。 （f：forwards）</span><br><span class="line">Ctrl+w: 删除光标处到行首的字符。</span><br><span class="line">Ctrl+k：删除光标处到行尾的字符。</span><br><span class="line">Ctrl+u：删除整个命令行文本字符。</span><br><span class="line">Ctrl+h：向行首删除一个字符。</span><br><span class="line">Ctrl+d：向行尾删除一个字符。</span><br><span class="line"></span><br><span class="line">Ctrl + xx ：在命令行尾和光标之间移动</span><br></pre></td></tr></table></figure>

<h3 id="时区"><a href="#时区" class="headerlink" title="时区"></a>时区</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhangeamon/p/5500744.html">CentOS 7 时区设置</a></p>
<ul>
<li><p>UTC（Coordinated Universal Time ）是国际时间标准，通常与GMT相同，但在某些情况下，UTC可能会有闰秒的调整。</p>
<ul>
<li><p>UTC is the global standard for timekeeping.</p>
</li>
<li><p>It does not observe Daylight Saving Time (DST).</p>
</li>
<li><p>Used as a reference for time zones worldwide.</p>
</li>
<li><p>Offset: UTC is the baseline, so its offset is <strong>0 hours</strong>.</p>
</li>
</ul>
</li>
<li><p>GMT（Greenwich Mean Time）是格林尼治时间，没有夏令时调整。</p>
<ul>
<li>GMT was historically the global time standard but has largely been replaced by UTC.</li>
</ul>
</li>
<li><p>UTC+N or GMT+N</p>
<ul>
<li>In most practical cases, <strong>UTC+N</strong> and <strong>GMT+N</strong> are equivalent.</li>
<li>Refers to a time zone that is <strong>N hours ahead of UTC (Coordinated Universal Time)</strong>.</li>
<li><strong>UTC+N</strong> is the modern term and is more precise in technical or scientific contexts (e.g., aviation, computing, telecommunications).</li>
<li><strong>GMT+N</strong> is an older term that is still widely recognized but less commonly used in formal applications.</li>
</ul>
</li>
</ul>
<h3 id="日期"><a href="#日期" class="headerlink" title="日期"></a>日期</h3><ul>
<li><p>判断　day of year     </p>
<p><code>doy=$(date +%j)</code></p>
</li>
<li><p>制定日期减一天</p>
<p><code>date -d&quot;20140101 -1 days&quot; +&quot;%Y%m%d&quot;</code></p>
</li>
<li><p>当前时间戳（秒）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date +%s</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="剪切板"><a href="#剪切板" class="headerlink" title="剪切板"></a>剪切板</h3><p>将剪切板中的内容输出到文件     echo $(xsel –clipboard) &gt;&gt; a.txt </p>
<p>将文件的内容复制到剪切板         cat a.txt | xsel –clipboard</p>
<h3 id="securtCRT"><a href="#securtCRT" class="headerlink" title="securtCRT"></a>securtCRT</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">下载服务器文件  sz filename</span><br><span class="line">上传本地文件   rz filename</span><br></pre></td></tr></table></figure>

<h3 id="top"><a href="#top" class="headerlink" title="top"></a>top</h3><ul>
<li><p>“1”</p>
<p>查看所有CPU核的使用情况</p>
</li>
<li><p>“c”</p>
<p>查看具体进程的路径</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">l- 开启或关闭第一部分第一行top信息显示</span><br><span class="line">t - 开启或关闭第一部分第二行Tasks和第三行 Cpu(s) 信息显示</span><br><span class="line">m - 开启或关闭第一部分第四行 Mem 和 第五行 Swap 信息显示</span><br><span class="line">N - 以 PID 的大小的顺序排列表示进程列表</span><br><span class="line">P - 以 CPU 占用率大小的顺序排列进程列表</span><br><span class="line">M - 以内存占用率大小的顺序排列进程列表</span><br><span class="line">h - 显示帮助</span><br><span class="line">n - 设置在进程列表所显示进程的数量（按完n，再输入个数）</span><br><span class="line">q - 退出 top</span><br><span class="line">s - 设置显示信息的刷新频率（由于是命令行模式，显示的过程其实是刷屏的过程）</span><br></pre></td></tr></table></figure>

<ul>
<li><p>进程CPU占用率</p>
<p>top显示某个进程占用cpu达到100%，则表明该进程正在使用所有可用的 CPU 资源。这通常是因为该进程执行的任务非常耗费 CPU 资源，或者该进程存在某些问题导致 CPU 使用率异常高。</p>
<p>在 Linux 系统中，每个进程都只能在单个 CPU 核心上运行。但是，系统可以通过调度程序（scheduler）在多个 CPU 核心之间轮换运行进程，从而达到让多个进程同时执行的效果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">### cpu</span><br><span class="line">us：用户态使用的cpu时间比</span><br><span class="line">sy：系统态使用的cpu时间比</span><br><span class="line">ni：用做nice加权的进程分配的用户态cpu时间比</span><br><span class="line">id：空闲的cpu时间比</span><br><span class="line">wa：cpu等待磁盘写入完成时间</span><br><span class="line">hi：硬中断消耗时间</span><br><span class="line">si：软中断消耗时间</span><br><span class="line">st：虚拟机偷取时间</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>过滤指定进程</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> step1</span> </span><br><span class="line">o</span><br><span class="line"><span class="meta">#</span><span class="bash"> step2</span></span><br><span class="line">COMMAND=&lt;process_name&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="查看指定服务的运行情况"><a href="#查看指定服务的运行情况" class="headerlink" title="查看指定服务的运行情况"></a>查看指定服务的运行情况</h3><ul>
<li><code>journalctl -u xxx.service</code></li>
<li><code>journalctl -xe</code> 查看最近系统服务日志</li>
</ul>
<h3 id="资源占用"><a href="#资源占用" class="headerlink" title="资源占用"></a>资源占用</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep 服务名称或pid</span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示</span></span><br><span class="line">root  19496  0.0  2.4 4826152 1603360 ?     Sl    2020 503:15 java -jar -Xms1024m -Xmx1024m jenkins.war --httpPort=55555</span><br><span class="line"></span><br><span class="line">19496 为PID</span><br><span class="line">0.0 为CPU占用百分比（注意：如果有两个CPU，32核64线程，那么总占比是6400%，占用一线程，cpu占比是100%）</span><br><span class="line">2.4 为内存占用百分比</span><br></pre></td></tr></table></figure>

<h1 id="system"><a href="#system" class="headerlink" title="system"></a>system</h1><h2 id="kernel-dumps"><a href="#kernel-dumps" class="headerlink" title="kernel dumps"></a>kernel dumps</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Changing Kernel Crash Dump Directory (<span class="keyword">for</span> kdump)</span></span><br><span class="line">sudo vi /etc/kdump.conf</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Look <span class="keyword">for</span> the line starting with path and change it to your desired directory</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> default: /var/crash</span></span><br><span class="line">path /new/crash/directory</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Restart the kdump service:</span></span><br><span class="line">sudo systemctl restart kdump</span><br></pre></td></tr></table></figure>

<h2 id="core-dumps"><a href="#core-dumps" class="headerlink" title="core dumps"></a>core dumps</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 方式一：设置 core 文件的存放路径</span></span><br><span class="line">echo &quot;/core/core.%e.%p&quot; &gt; /proc/sys/kernel/core_pattern</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">	%e is replaced by the executable name.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">	%p is replaced by the process ID.</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 方式二：</span></span><br><span class="line">sudo vim /etc/sysctl.conf</span><br><span class="line">kernel.core_pattern=/core/core-%e-%p-%t</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Apply the changes</span></span><br><span class="line">sudo sysctl -p</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>Feature</th>
<th>Kernel Dumps</th>
<th>Core Dumps</th>
</tr>
</thead>
<tbody><tr>
<td>Source</td>
<td>Kernel crashes (kernel panic)</td>
<td>User-space process crashes</td>
</tr>
<tr>
<td>Trigger</td>
<td>Kernel panic</td>
<td>Process signals (e.g., SIGSEGV)</td>
</tr>
<tr>
<td>Contents</td>
<td>Entire (or partial) system memory</td>
<td>Process memory</td>
</tr>
<tr>
<td>Tools</td>
<td>kdump, crash</td>
<td>gdb, apport, ABRT</td>
</tr>
<tr>
<td>Debugging Scope</td>
<td>Kernel-level debugging</td>
<td>User-level application debugging</td>
</tr>
<tr>
<td>Location</td>
<td>Typically /var/crash</td>
<td>Specified by core_pattern (/proc/sys/kernel/core_pattern)</td>
</tr>
</tbody></table>
<h2 id="time"><a href="#time" class="headerlink" title="time"></a>time</h2><ul>
<li><p>unning duration or uptime</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> option 1</span></span><br><span class="line">uptime</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> option 2</span></span><br><span class="line">who -b</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="process-1"><a href="#process-1" class="headerlink" title="process"></a>process</h2><ul>
<li><p>Tree view all process</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pstree -g</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="查看系统配置"><a href="#查看系统配置" class="headerlink" title="查看系统配置"></a>查看系统配置</h2><ul>
<li><p>查看系统</p>
<ul>
<li><code>cat /etc/os-release</code></li>
</ul>
</li>
<li><p>查看内核</p>
<ul>
<li><code>cat /proc/version</code></li>
<li><code>uname -a</code></li>
</ul>
</li>
<li><p>查看linux版本</p>
<ul>
<li><code>lsb_release -a</code></li>
<li><code>cat /etc/issue</code></li>
</ul>
</li>
<li><blockquote>
<p>总核数 = 物理CPU个数 X 每颗物理CPU的核数 </p>
<p>总逻辑CPU数 = 物理CPU个数 X 每颗物理CPU的核数 X 超线程数</p>
</blockquote>
<ul>
<li><p>查看物理CPU个数</p>
<ol>
<li>top命令，然后输入数字1查看，各项参数如下<ul>
<li><code>us</code>：用户空间占用 CPU 的百分比。</li>
<li><code>sy</code>：内核空间占用 CPU 的百分比。</li>
<li><code>ni</code>：调整过优先级的进程占用 CPU 的百分比。</li>
<li><code>id</code>：空闲 CPU 的百分比。</li>
<li><code>wa</code>：等待 I/O 的 CPU 时间的百分比。</li>
<li><code>hi</code>：硬中断（hardware interrupt）占用 CPU 的时间的百分比。</li>
<li><code>si</code>：软中断（software interrupt）占用 CPU 的时间的百分比。</li>
<li><code>st</code>：虚拟机或者运行在它上面的虚拟 CPU 占用 CPU 的时间的百分比。</li>
</ul>
</li>
<li>输入mpstat查看</li>
<li>输入以下命令</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/cpuinfo| grep &quot;physical id&quot;| sort| uniq| wc -l</span><br></pre></td></tr></table></figure></li>
<li><p>查看每个物理CPU中core的个数(即核数)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq</span><br></pre></td></tr></table></figure></li>
<li><p>查看逻辑CPU的总数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/cpuinfo| grep &quot;processor&quot;| wc -l</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="清理内存"><a href="#清理内存" class="headerlink" title="清理内存"></a>清理内存</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sync; echo 1 &gt; /proc/sys/vm/drop_caches</span><br></pre></td></tr></table></figure>

<h2 id="查看buff-cache"><a href="#查看buff-cache" class="headerlink" title="查看buff/cache"></a>查看buff/cache</h2><ul>
<li>工具推荐 <a target="_blank" rel="noopener" href="https://github.com/silenceshell/hcache">https://github.com/silenceshell/hcache</a></li>
</ul>
<h1 id="troubleshooting"><a href="#troubleshooting" class="headerlink" title="troubleshooting"></a>troubleshooting</h1><h2 id="鼠标按键会在终端输入乱码"><a href="#鼠标按键会在终端输入乱码" class="headerlink" title="鼠标按键会在终端输入乱码"></a>鼠标按键会在终端输入乱码</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> the `reset` <span class="built_in">command</span> helps restore the terminal to a known good state, <span class="built_in">which</span> can be helpful <span class="keyword">in</span> troubleshooting issues or clearing screen clutter.</span></span><br><span class="line">reset</span><br></pre></td></tr></table></figure>

<h2 id="received-disconnect-from-x-port-22-2-Too-many-authentication-failures"><a href="#received-disconnect-from-x-port-22-2-Too-many-authentication-failures" class="headerlink" title="received disconnect from x port 22:2: Too many authentication failures"></a>received disconnect from x port 22:2: Too many authentication failures</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Remove all keys from the agent</span></span><br><span class="line">ssh-add -D</span><br></pre></td></tr></table></figure>

<h2 id="etc-hosts-文件无法编辑"><a href="#etc-hosts-文件无法编辑" class="headerlink" title="/etc/hosts 文件无法编辑"></a>/etc/hosts 文件无法编辑</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> the file may have the immutable attribute <span class="built_in">set</span>. Check with:</span></span><br><span class="line">lsattr /etc/hosts</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">  remove i flag</span></span><br><span class="line">sudo chattr -i /etc/hosts</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> restore</span></span><br><span class="line">sudo chattr +i /etc/hosts</span><br></pre></td></tr></table></figure>

<h2 id="Cannot-create-a-temporary-file"><a href="#Cannot-create-a-temporary-file" class="headerlink" title="Cannot create a temporary file"></a>Cannot create a temporary file</h2><blockquote>
<p>Cannot create a temporary file /var/tmp/sclhOLz2G: No space left on device</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 现象</span></span><br><span class="line">任何操作均会提示 以上报错</span><br><span class="line"><span class="meta">#</span><span class="bash"> 原因</span></span><br><span class="line">系统盘已满</span><br><span class="line"><span class="meta">#</span><span class="bash"> 解决</span></span><br><span class="line">切换到root用户，清理一些目录下的文件，尤其排查下 core 文件</span><br></pre></td></tr></table></figure>

<h2 id="root-filesystem-xxx-UNEXPECTED-INCONSISTENCY-RUN-fsck-MANUALLY"><a href="#root-filesystem-xxx-UNEXPECTED-INCONSISTENCY-RUN-fsck-MANUALLY" class="headerlink" title="root filesystem xxx UNEXPECTED INCONSISTENCY; RUN fsck MANUALLY"></a>root filesystem xxx UNEXPECTED INCONSISTENCY; RUN fsck MANUALLY</h2><ul>
<li><p>issuse</p>
<img src="/images/linux/issuse-root_filesystem.png"></li>
<li><p>resolve</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fsck /dev/mapper/ubuntu--vg-ubuntu--lv</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">When prompted, <span class="built_in">type</span> y to accept each fix suggestion, or a to fix all.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Once fsck completes successfully, reboot the system:</span></span><br><span class="line">exec reboot -f</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="A-fatal-error-was-detected-on-a-component-at-bus-0-device-2-function-0"><a href="#A-fatal-error-was-detected-on-a-component-at-bus-0-device-2-function-0" class="headerlink" title="A fatal error was detected on a component at bus 0 device 2 function 0."></a>A fatal error was detected on a component at bus 0 device 2 function 0.</h2><ul>
<li><p>identify what device is at <code>bus 0 device 2 function 0</code>:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lspci -s 00:02.0</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">e.g. console <span class="built_in">print</span></span></span><br><span class="line">00:02.0 PCI bridge: Intel Corporation Xeon E7 v4/Xeon E5 v4/Xeon E3 v4/Xeon D PCI Express Root Port 2 (rev 01)</span><br></pre></td></tr></table></figure></li>
<li><p>list all PCI devices hierarchically and see what’s attached behind the 00:02.0 bridge:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">lspci -t -vv</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">e.g. console <span class="built_in">print</span></span></span><br><span class="line"> \-[0000:00]-+-00.0  Intel Corporation Xeon E7 v4/Xeon E5 v4/Xeon E3 v4/Xeon D DMI2</span><br><span class="line">             +-01.0-[02]----00.0  Broadcom / LSI MegaRAID SAS-3 3108 [Invader]</span><br><span class="line">             +-02.0-[03]----00.0  Samsung Electronics Co Ltd NVMe SSD Controller S4LV008[Pascal]</span><br><span class="line">             +-03.0-[01]--+-00.0  Broadcom Inc. and subsidiaries BCM57412 NetXtreme-E 10Gb RDMA Ethernet Controller</span><br><span class="line">             ...</span><br><span class="line">             </span><br><span class="line"><span class="meta">#</span><span class="bash"> Explanation</span></span><br><span class="line">The PCIe fatal bus error you previously saw (bus 0 device 2 function 0) corresponds to:</span><br><span class="line">- A PCIe root port (00:02.0)</span><br><span class="line">- Leading to a Samsung NVMe SSD</span><br></pre></td></tr></table></figure></li>
<li><p>check NVMe Devices to PCIe Slots</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ls -l /sys/block/ | grep nvme</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">e.g. console <span class="built_in">print</span></span></span><br><span class="line">lrwxrwxrwx. 1 root root 0 Apr 22 14:18 nvme0n1 -&gt; ../devices/pci0000:00/0000:00:02.0/0000:03:00.0/nvme/nvme0/nvme0n1</span><br><span class="line">lrwxrwxrwx. 1 root root 0 Apr 22 14:18 nvme1n1 -&gt; ../devices/pci0000:00/0000:00:03.2/0000:04:00.0/nvme/nvme1/nvme1n1</span><br><span class="line">lrwxrwxrwx. 1 root root 0 Apr 22 14:18 nvme2n1 -&gt; ../devices/pci0000:80/0000:80:02.0/0000:82:00.0/nvme/nvme2/nvme2n1</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>other check</strong></p>
<ul>
<li><p>check drive health</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvme smart-log /path/to/device  # e.g. nvme smart-log /dev/nvme0</span><br></pre></td></tr></table></figure></li>
<li><p>check again for PCIe or I/O errors</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg | grep -iE &quot;nvme|pcie|error&quot;</span><br></pre></td></tr></table></figure></li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/search/">Search</a></li>
        
          <li><a href="/tags/">Tag</a></li>
        
          <li><a href="/categories/">Category</a></li>
        
          <li><a href="/archives/">Log</a></li>
        
          <li><a href="/about/">About</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#bash"><span class="toc-number">1.</span> <span class="toc-text">bash</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bash-Shell-Scripting-Definition"><span class="toc-number">1.0.1.</span> <span class="toc-text">Bash Shell Scripting Definition</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#conclusion"><span class="toc-number">1.1.</span> <span class="toc-text">conclusion</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ssh"><span class="toc-number">1.1.1.</span> <span class="toc-text">ssh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#session"><span class="toc-number">1.1.2.</span> <span class="toc-text">session</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#firewall"><span class="toc-number">1.1.3.</span> <span class="toc-text">firewall</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9B%B8%E5%85%B3"><span class="toc-number">1.1.4.</span> <span class="toc-text">磁盘相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#history"><span class="toc-number">1.1.5.</span> <span class="toc-text">history</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#swap"><span class="toc-number">1.1.6.</span> <span class="toc-text">swap</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Memory"><span class="toc-number">2.</span> <span class="toc-text">Memory</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OOM"><span class="toc-number">2.1.</span> <span class="toc-text">OOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%AF%E5%88%86%E6%9C%BA%E5%88%B6"><span class="toc-number">2.1.1.</span> <span class="toc-text">积分机制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#process"><span class="toc-number">3.</span> <span class="toc-text">process</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#operate"><span class="toc-number">4.</span> <span class="toc-text">operate</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hostname"><span class="toc-number">4.0.1.</span> <span class="toc-text">hostname</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#user"><span class="toc-number">4.0.2.</span> <span class="toc-text">user</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BD%E5%AE%89%E8%A3%85%E7%9A%84%E8%BD%AF%E4%BB%B6"><span class="toc-number">4.0.3.</span> <span class="toc-text">卸载安装的软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85deb%E6%96%87%E4%BB%B6%E5%87%BA%E9%94%99%E6%97%B6"><span class="toc-number">4.0.4.</span> <span class="toc-text">安装deb文件出错时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#centos%E5%AE%89%E8%A3%85%E7%A6%BB%E7%BA%BF%E4%BE%9D%E8%B5%96"><span class="toc-number">4.0.5.</span> <span class="toc-text">centos安装离线依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%89%E6%A0%87"><span class="toc-number">4.0.6.</span> <span class="toc-text">光标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%8C%BA"><span class="toc-number">4.0.7.</span> <span class="toc-text">时区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F"><span class="toc-number">4.0.8.</span> <span class="toc-text">日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%AA%E5%88%87%E6%9D%BF"><span class="toc-number">4.0.9.</span> <span class="toc-text">剪切板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#securtCRT"><span class="toc-number">4.0.10.</span> <span class="toc-text">securtCRT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#top"><span class="toc-number">4.0.11.</span> <span class="toc-text">top</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5"><span class="toc-number">4.0.12.</span> <span class="toc-text">查看指定服务的运行情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E5%8D%A0%E7%94%A8"><span class="toc-number">4.0.13.</span> <span class="toc-text">资源占用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#system"><span class="toc-number">5.</span> <span class="toc-text">system</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#kernel-dumps"><span class="toc-number">5.1.</span> <span class="toc-text">kernel dumps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#core-dumps"><span class="toc-number">5.2.</span> <span class="toc-text">core dumps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#time"><span class="toc-number">5.3.</span> <span class="toc-text">time</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#process-1"><span class="toc-number">5.4.</span> <span class="toc-text">process</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE"><span class="toc-number">5.5.</span> <span class="toc-text">查看系统配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E5%86%85%E5%AD%98"><span class="toc-number">5.6.</span> <span class="toc-text">清理内存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bbuff-cache"><span class="toc-number">5.7.</span> <span class="toc-text">查看buff&#x2F;cache</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#troubleshooting"><span class="toc-number">6.</span> <span class="toc-text">troubleshooting</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E6%8C%89%E9%94%AE%E4%BC%9A%E5%9C%A8%E7%BB%88%E7%AB%AF%E8%BE%93%E5%85%A5%E4%B9%B1%E7%A0%81"><span class="toc-number">6.1.</span> <span class="toc-text">鼠标按键会在终端输入乱码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#received-disconnect-from-x-port-22-2-Too-many-authentication-failures"><span class="toc-number">6.2.</span> <span class="toc-text">received disconnect from x port 22:2: Too many authentication failures</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#etc-hosts-%E6%96%87%E4%BB%B6%E6%97%A0%E6%B3%95%E7%BC%96%E8%BE%91"><span class="toc-number">6.3.</span> <span class="toc-text">&#x2F;etc&#x2F;hosts 文件无法编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cannot-create-a-temporary-file"><span class="toc-number">6.4.</span> <span class="toc-text">Cannot create a temporary file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#root-filesystem-xxx-UNEXPECTED-INCONSISTENCY-RUN-fsck-MANUALLY"><span class="toc-number">6.5.</span> <span class="toc-text">root filesystem xxx UNEXPECTED INCONSISTENCY; RUN fsck MANUALLY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-fatal-error-was-detected-on-a-component-at-bus-0-device-2-function-0"><span class="toc-number">6.6.</span> <span class="toc-text">A fatal error was detected on a component at bus 0 device 2 function 0.</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&text=linux system command"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=linux system command&body=Check out this article: https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&title=linux system command"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&title=linux system command"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&title=linux system command"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://www.willshirley.top/2016/10/16/linux%20cmd:%20system/&t=linux system command"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2025
    brook
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/archives/">Log</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
